# üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –±–æ—Ç–∞

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤

–≠—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç:
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫—É —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ö–Ω–æ–ø–∫—É –≤—ã–±–æ—Ä–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö `/settings`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –≤—Ä–µ–º–µ–Ω–∏ –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö
- ‚úÖ –í—ã–±–æ—Ä —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

---

## üöÄ –®–∞–≥–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

### 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞

–ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∫–∞–∫ systemd —Å–µ—Ä–≤–∏—Å:
```bash
sudo systemctl stop blagovest-bot
```

–ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –≤ screen/tmux:
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep bot.py

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill <PID>
```

### 2. –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥

```bash
cd /path/to/Blagovest-bot
git fetch origin
git checkout claude/bot-improvements-011CUrRTXLnFcXj7kC1DNoW6
git pull origin claude/bot-improvements-011CUrRTXLnFcXj7kC1DNoW6
```

### 3. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

```bash
cd bot
pip install -r requirements.txt
```

### 4. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
cd /path/to/Blagovest-bot
python3 scripts/migrate_add_timezone.py
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üîÑ –ù–∞—á–∏–Ω–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
üìã –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–±–ª–∏—Ü—É users...
  ‚úÖ –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª–µ timezone –≤ —Ç–∞–±–ª–∏—Ü—É users...
  ‚úÖ –ü–æ–ª–µ timezone –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ users
üìã –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–±–ª–∏—Ü—É agent_bindings...
  ‚úÖ –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª–µ timezone –≤ —Ç–∞–±–ª–∏—Ü—É agent_bindings...
  ‚úÖ –ü–æ–ª–µ timezone –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ agent_bindings
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
```

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

–ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∫–∞–∫ systemd —Å–µ—Ä–≤–∏—Å:
```bash
sudo systemctl start blagovest-bot
sudo systemctl status blagovest-bot
```

–ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é:
```bash
cd /path/to/Blagovest-bot/bot
python3 bot.py
```

### 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/settings`
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∫–Ω–æ–ø–∫—É: **üåç –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: –ú–æ—Å–∫–≤–∞**
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

–ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∫–∞–∫ systemd —Å–µ—Ä–≤–∏—Å:
```bash
sudo journalctl -u blagovest-bot -f
```

–ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª –ª–æ–≥–æ–≤:
```bash
tail -f bot/logs/bot.log
```

---

## ‚ùó –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: "No module named 'utils.timezones'"
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–¥ –∏ —Ñ–∞–π–ª `bot/utils/timezones.py` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

### –ü—Ä–æ–±–ª–µ–º–∞: "no such column: users.timezone"
**–†–µ—à–µ–Ω–∏–µ**: –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—à–∞–≥ 4).

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–Ω–æ–ø–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
2. –û—á–∏—Å—Ç–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞ —Å –±–æ—Ç–æ–º –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/settings` —Å–Ω–æ–≤–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–¥ (`git log --oneline -3`)

---

## üéâ –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç:
- –í—ã–±—Ä–∞—Ç—å —Å–≤–æ–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –í–∏–¥–µ—Ç—å –≤—Ä–µ–º—è —É—Ä–æ–∫–æ–≤ –≤ —Å–≤–æ—ë–º –º–µ—Å—Ç–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º

–ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
